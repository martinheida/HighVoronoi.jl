<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>FunctionComposer · HighVoronoi Documentation</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">HighVoronoi Documentation</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../short/">In Short...</a></li><li><a class="tocitem" href="../geometry/">Creating and handling the Voronoi geometry</a></li><li><a class="tocitem" href="../boundaries/">Boundaries</a></li><li class="is-active"><a class="tocitem" href>FunctionComposer</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#The-FunctionComposer-struct"><span>The FunctionComposer struct</span></a></li><li class="toplevel"><a class="tocitem" href="#Retrieving-the-full-(combined)-function"><span>Retrieving the full (combined) function</span></a></li><li class="toplevel"><a class="tocitem" href="#Decomposing-the-Composer"><span>Decomposing the Composer</span></a></li></ul></li><li><a class="tocitem" href="../finitevolume/">Finite Volume Problems</a></li><li><a class="tocitem" href="../metapost/">2D-Output using MetaPost</a></li></ul></li><li><a class="tocitem" href="../../showcase/">Intentions of use (EXAMPLES)</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>FunctionComposer</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>FunctionComposer</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Passing-function-arguments-to-VoronoiGeometry-and-VoronoiFVProblem"><a class="docs-heading-anchor" href="#Passing-function-arguments-to-VoronoiGeometry-and-VoronoiFVProblem">Passing function arguments to VoronoiGeometry and VoronoiFVProblem</a><a id="Passing-function-arguments-to-VoronoiGeometry-and-VoronoiFVProblem-1"></a><a class="docs-heading-anchor-permalink" href="#Passing-function-arguments-to-VoronoiGeometry-and-VoronoiFVProblem" title="Permalink"></a></h1><div class="admonition is-info"><header class="admonition-header">Always glue functions with a FunctionComposer</header><div class="admonition-body"><p>The <code>FunctionComposer</code> is internally used to glue together real valued functions. Therefore, if a user wants to glue together functions and afterwards work with &quot;glued&quot; information generated from <code>HighVoronoi</code>, using <code>FunctionComposer</code> is the way unify internal and external calculations. </p></div></div><h1 id="The-FunctionComposer-struct"><a class="docs-heading-anchor" href="#The-FunctionComposer-struct">The FunctionComposer struct</a><a id="The-FunctionComposer-struct-1"></a><a class="docs-heading-anchor-permalink" href="#The-FunctionComposer-struct" title="Permalink"></a></h1><p>The <code>FunctionComposer</code> is the element implemented in <code>HighVoronoi</code> to concatenate several <code>Float</code> or <code>Vector{Float}</code> valued functions into one single <code>Vector{Float}</code>-valued function using <code>vcat(...)</code>. It is built using a call of the following method.</p><article class="docstring"><header><a class="docstring-binding" id="HighVoronoi.FunctionComposer-Tuple{}" href="#HighVoronoi.FunctionComposer-Tuple{}"><code>HighVoronoi.FunctionComposer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FunctionComposer(;reference_argument, super_type, _functions...)</code></pre><p>The composer takes the following arguments:</p><ul><li><code>_functions</code>: This is a list of named funcions.</li><li><code>super_type</code>: suppose your functions return values of type <code>T</code> and <code>Vector{T}</code> you should set <code>super_type=T</code></li><li><code>reference_argument</code>: Your functions take values of type <code>Float</code> and are well defined in <code>0.0</code>? Then you can put e.g. <code>0.0</code> here.    If your function accepts <code>StaticArray{3,Float64}</code> put e.g. <code>SVector{3,Float64}([0.0,1.2,3.4])</code></li></ul></div></section></article><p>A typical example would be</p><pre><code class="language-julia hljs">f = FunctionComposer(reference_argument = [0.0,0.0,0.0], super_type = Float64, alpha = x-&gt;norm(x)*x, beta = x-&gt;sum(abs,x) )</code></pre><p>or:</p><pre><code class="language-julia hljs">myfunctions=(alpha = x-&gt;norm(x)*x, beta = x-&gt;sum(abs,x))
f = FunctionComposer(reference_argument = [0.0,0.0,0.0], super_type = Float64; myfunctions...  )</code></pre><p>The latter has the advantage that you can define your set of functions once and for all and use it again and again ensuring you always have the same order in the arguments. This brings us to an important point:</p><div class="admonition is-warning"><header class="admonition-header">Don&#39;t mess with the order of arguments</header><div class="admonition-body"><p>FunctionComposer takes the order of functions as given in the argument. That is if you make function calls</p><pre><code class="language-julia hljs">f1 = FunctionComposer(reference_argument = [0.0,0.0,0.0], super_type = Float64, alpha = exp, beta = sin  )
f2 = FunctionComposer(reference_argument = [0.0,0.0,0.0], super_type = Float64; beta = sin, alpha = exp  )    </code></pre><p>the algorithm will create two different functions <code>x-&gt;[exp(x),sin(x)]</code> and <code>x-&gt;[sin(x),exp(x)]</code> and it will NOT be able to clear up the mess this creates....</p></div></div><h1 id="Retrieving-the-full-(combined)-function"><a class="docs-heading-anchor" href="#Retrieving-the-full-(combined)-function">Retrieving the full (combined) function</a><a id="Retrieving-the-full-(combined)-function-1"></a><a class="docs-heading-anchor-permalink" href="#Retrieving-the-full-(combined)-function" title="Permalink"></a></h1><p>The full function is stored in the variable <code>FunctionComposer.functions</code>.</p><pre><code class="language-julia hljs">myfunctions=(alpha = x-&gt;norm(x)*x, beta = x-&gt;sum(abs,x))
f = FunctionComposer(reference_argument = [0.0,0.0,0.0], super_type = Float64; myfunctions...  )

myvalue = f.functions([1.2,3.4,5.6])</code></pre><h1 id="Decomposing-the-Composer"><a class="docs-heading-anchor" href="#Decomposing-the-Composer">Decomposing the Composer</a><a id="Decomposing-the-Composer-1"></a><a class="docs-heading-anchor-permalink" href="#Decomposing-the-Composer" title="Permalink"></a></h1><p>To retrieve single information from an array like <code>myvalue</code> in the last example, you can simply use the internal function <code>HighVoronoi.decompose(...)</code>:</p><pre><code class="language-julia hljs">myfunctions=(alpha = x-&gt;norm(x)*x, beta = x-&gt;sum(abs,x))
f = FunctionComposer(reference_argument = [0.0,0.0,0.0], super_type = Float64; myfunctions...  )

myvalue = f.functions([1.2,3.4,5.6])

values = HighVoronoi.decompose(f, myvalue)

println(values[:alpha], values[:beta])</code></pre><p>If you whish <span>$1d$</span>-vectors to be returned as scalars, try out this one:</p><pre><code class="language-julia hljs">values2 = HighVoronoi.decompose(f, myvalue, scalar=true)

println(values2[:alpha], values2[:beta])</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../boundaries/">« Boundaries</a><a class="docs-footer-nextpage" href="../finitevolume/">Finite Volume Problems »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Friday 6 January 2023 15:53">Friday 6 January 2023</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
