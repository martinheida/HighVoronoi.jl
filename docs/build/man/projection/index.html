<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Projection operators · HighVoronoi Documentation</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">HighVoronoi Documentation</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../short/">In short...</a></li><li><a class="tocitem" href="../geometry/">Creating and handling the Voronoi geometry</a></li><li><a class="tocitem" href="../boundaries/">Boundaries</a></li><li><a class="tocitem" href="../refine/">Refinement and Substitution of Subdomains</a></li><li><a class="tocitem" href="../periodic/">Highspeed periodic geometries</a></li><li><a class="tocitem" href="../functions/">FunctionComposer</a></li><li><a class="tocitem" href="../finitevolume/">Finite Volume Problems</a></li><li class="is-active"><a class="tocitem" href>Projection operators</a></li><li><a class="tocitem" href="../metapost/">2D-Output using MetaPost</a></li></ul></li><li><a class="tocitem" href="../../showcase/">Intentions of use (EXAMPLES)</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Projection operators</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Projection operators</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Volume-Projection-Matrix-(Beta-only)"><a class="docs-heading-anchor" href="#Volume-Projection-Matrix-(Beta-only)">Volume Projection Matrix (Beta only)</a><a id="Volume-Projection-Matrix-(Beta-only)-1"></a><a class="docs-heading-anchor-permalink" href="#Volume-Projection-Matrix-(Beta-only)" title="Permalink"></a></h1><p>The idea of &quot;projection&quot; stems from finite volume application. Assume the user has solved a FV problem on a coarse geometry <code>VG</code> and wants to project this solution onto the finer geometry <code>VG2</code> as an initial guess for a solver of the FV problem on <code>VG2</code>. Have a look at the following code.</p><pre><code class="language-julia hljs">    VG = VoronoiGeometry(VoronoiNodes(rand(2,10)),cuboid(2,periodic = [1,2]),integrator=HighVoronoi.VI_POLYGON)
    VG2 = copy(VG)
    refine!(VG2,VoronoiNodes(0.2*rand(2,4)))
    v1, v2, vols = interactionmatrix(VG,VG2)</code></pre><p>Then <code>vols[i]</code> contains the volume shared by cell <code>v1[i]</code> in <code>VG</code> and cell  <code>v2[i]</code> in <code>VG2</code>. Since the full volumes of <code>v1[i]</code> and  <code>v2[i]</code> are stored in <code>VG</code> and <code>VG2</code> this can be used as a starting point to calculate the projection operator.</p><div class="admonition is-warning"><header class="admonition-header">Current state of development</header><div class="admonition-body"><p>The code runs for <code>refine!</code> and <code>substitute!</code>. However, for grids with periodic boundary conditions, the data of nodes intersecting the periodic boundary can be sligtly false. For better results on REGULAR grids (i.e. one vertex has precisely <span>$d+1$</span> nodes) and only for <code>refine!</code> a better algorithm is used if <code>fast=true</code> is used as an additional argument. On the other hand, there are still bugs in this second version that can not only cause the program to crash but even to stop julia from working unless it is started again.  IT IS THUS HIGHLY RECOMENDED TO USE THE ORIGINAL CODE AND TO TRY TO REFINE RATHER IN THE BULK THAN CLOSE TO THE BOUNDARY. </p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../finitevolume/">« Finite Volume Problems</a><a class="docs-footer-nextpage" href="../metapost/">2D-Output using MetaPost »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Friday 14 April 2023 09:32">Friday 14 April 2023</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
